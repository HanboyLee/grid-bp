# Backpack æœŸè´§ç½‘æ ¼äº¤æ˜“æœºå™¨äºº - å®Œæ•´é¡¹ç›®æ–‡æ¡£

**é¡¹ç›®åç§°**ï¼šGrid Trading Bot for Backpack Exchange  
**åˆ›å»ºæ—¥æœŸ**ï¼š2025å¹´10æœˆ23æ—¥  
**ç‰ˆæœ¬**ï¼šv1.0  
**ä½œè€…**ï¼šTeam Dev

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
3. [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
4. [åŠŸèƒ½éœ€æ±‚](#åŠŸèƒ½éœ€æ±‚)
5. [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
6. [API è®¾è®¡](#api-è®¾è®¡)
7. [å‰ç«¯è®¾è®¡](#å‰ç«¯è®¾è®¡)
8. [åç«¯é€»è¾‘](#åç«¯é€»è¾‘)
9. [é£é™©ç®¡ç†](#é£é™©ç®¡ç†)
10. [éƒ¨ç½²æ–¹æ¡ˆ](#éƒ¨ç½²æ–¹æ¡ˆ)
11. [å¼€å‘è®¡åˆ’](#å¼€å‘è®¡åˆ’)

---

## é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç›®æ ‡

å®ç°ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„æœŸè´§ç½‘æ ¼äº¤æ˜“æœºå™¨äºº,ç”¨æˆ·å¯ä»¥é€šè¿‡ Web ç•Œé¢é…ç½®äº¤æ˜“å‚æ•°,ç³»ç»Ÿè‡ªåŠ¨åœ¨ Backpack äº¤æ˜“æ‰€æ‰§è¡Œç½‘æ ¼äº¤æ˜“ç­–ç•¥,å¹¶å®æ—¶å±•ç¤ºè®¢å•çŠ¶æ€å’Œæ”¶ç›Šæƒ…å†µã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½

- âœ… **ç”¨æˆ·å‚æ•°é…ç½®**:é€šè¿‡ Web UI è®¾ç½®äº¤æ˜“å¯¹ã€æ æ†ã€èµ„é‡‘ã€ç½‘æ ¼æ•°ç­‰
- âœ… **è‡ªåŠ¨ç½‘æ ¼ç”Ÿæˆ**:æ ¹æ®å½“å‰ä»·æ ¼å’Œå‚æ•°è‡ªåŠ¨è®¡ç®—ç½‘æ ¼ä»·ä½
- âœ… **è‡ªåŠ¨äº¤æ˜“æ‰§è¡Œ**:åˆ†æ‰¹å»ºä»“ã€åŠ¨æ€å¹³ä»“ã€è‡ªåŠ¨é‡ä»“
- âœ… **å…¨å±€æ­¢ç›ˆ/æ­¢æŸ**:è¾¾åˆ°ç›®æ ‡åˆ©æ¶¦æˆ–äºæŸé¢æ—¶è‡ªåŠ¨åœæ­¢
- âœ… **è®¢å•ç®¡ç†**:å±•ç¤ºå·²å§”æ‰˜ã€å·²æˆäº¤ã€å¾…å¹³ä»“ç­‰æ‰€æœ‰è®¢å•
- âœ… **å®æ—¶æ•°æ®æ¨é€**:WebSocket å®æ—¶æ¨é€ä»·æ ¼ã€è®¢å•æ›´æ–°
- âœ… **æ€§èƒ½ç»Ÿè®¡**:æ€»æ”¶ç›Šã€èƒœç‡ã€æ”¶ç›Šç‡ç­‰
- âœ… **é£é™©ç®¡ç†**:çˆ†ä»“ä¿æŠ¤ã€å•ä¸ªç½‘æ ¼æœ€å¤§æŸå¤±é™åˆ¶

### 1.3 ä½¿ç”¨åœºæ™¯

ç”¨æˆ·åœ¨ Backpack äº¤æ˜“æ‰€æœ‰ 500 USDC,æƒ³åœ¨ SOL_USDC_PERP ä¸Šæ‰§è¡Œç½‘æ ¼äº¤æ˜“:

```
ç”¨æˆ·è¾“å…¥å‚æ•°:
- äº¤æ˜“å¯¹:SOL_USDC_PERP
- èµ„é‡‘:500 USDC
- æ æ†:2x
- ç½‘æ ¼æ•°:10
- ä»·æ ¼åŒºé—´:Â±10%(ç›¸å¯¹å½“å‰ä»·æ ¼)
- å…¨å±€æ­¢æŸ:-100 USDC
- å…¨å±€æ­¢ç›ˆ:+300 USDC

ç³»ç»Ÿè‡ªåŠ¨:
1. æŸ¥è¯¢å½“å‰ SOL ä»·æ ¼(å‡è®¾ 141.2 USDC)
2. è®¡ç®—ä»·æ ¼èŒƒå›´:127.08 ~ 155.32 USDC
3. ç”Ÿæˆ 10 ä¸ªç½‘æ ¼ä»·ä½
4. åœ¨åº•éƒ¨åˆ†æ‰¹å»ºä»“
5. ç›‘å¬ä»·æ ¼å˜åŒ–
6. ä»·æ ¼ä¸Šå‡æ—¶å¹³ä»“è·åˆ©
7. ä»·æ ¼ä¸‹é™æ—¶ç»§ç»­å»ºä»“
8. è¾¾åˆ°æ­¢ç›ˆæˆ–æ­¢æŸæ—¶åœæ­¢å¹¶æ¸…ä»“
```

---

## æŠ€æœ¯æ ˆ

### 2.1 åç«¯æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|------|
| **æ¡†æ¶** | Python FastAPI | 0.104+ | RESTful APIã€WebSocket æœåŠ¡ |
| **å¼‚æ­¥å¤„ç†** | AsyncIO | å†…ç½® | å¼‚æ­¥äº‹ä»¶å¾ªç¯ã€å¹¶å‘å¤„ç† |
| **æ•°æ®åº“** | SQLite + SQLAlchemy | 3.13+ | è®¢å•ã€é…ç½®ã€å†å²æ•°æ®å­˜å‚¨ |
| **WebSocket** | Python WebSocket | 12.0+ | å®æ—¶æ•°æ®æ¨é€ |
| **HTTP å®¢æˆ·ç«¯** | httpx/aiohttp | 0.25+ | è°ƒç”¨ Backpack API |
| **æ—¥å¿—** | Python logging | å†…ç½® | æ—¥å¿—è®°å½•å’Œè°ƒè¯• |
| **é…ç½®ç®¡ç†** | Pydantic | 2.0+ | ç¯å¢ƒå˜é‡å’Œé…ç½®éªŒè¯ |
| **åŠ å¯†** | cryptography | 41.0+ | ED25519 ç­¾åè®¤è¯ |

**Python ç‰ˆæœ¬**:3.10+

**ä¾èµ–åŒ…åˆ—è¡¨**(requirements.txt):
```
fastapi==0.104.1
uvicorn==0.24.0
sqlalchemy==2.0.23
aiosqlite==0.19.0
pydantic==2.5.0
pydantic-settings==2.1.0
httpx==0.25.2
websockets==12.0
python-dotenv==1.0.0
cryptography==41.0.7
```

### 2.2 å‰ç«¯æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|------|
| **æ¡†æ¶** | Next.js | 14.0+ | å…¨æ ˆæ¡†æ¶ + React UI |
| **è¯­è¨€** | TypeScript | 5.0+ | ç±»å‹å®‰å…¨çš„ JavaScript |
| **UI ç»„ä»¶åº“** | shadcn/ui | æœ€æ–° | ç¾è§‚çš„ç»„ä»¶ |
| **æ ·å¼** | Tailwind CSS | 3.0+ | Utility-first CSS æ¡†æ¶ |
| **çŠ¶æ€ç®¡ç†** | Zustand | 4.4+ | è½»é‡çº§å…¨å±€çŠ¶æ€ç®¡ç† |
| **HTTP å®¢æˆ·ç«¯** | fetch API / axios | å†…ç½® | è°ƒç”¨åç«¯ API |
| **å›¾è¡¨åº“** | recharts | 2.10+ | è®¢å•å†å²å’Œæ”¶ç›Šå›¾è¡¨ |
| **è¡¨æ ¼** | TanStack Table | 8.0+ | é«˜æ€§èƒ½è®¢å•è¡¨æ ¼ |
| **å®æ—¶é€šä¿¡** | WebSocket | å†…ç½® | è¿æ¥åç«¯ WebSocket |
| **è¡¨å•éªŒè¯** | React Hook Form + Zod | æœ€æ–° | è¡¨å•å¤„ç†å’ŒéªŒè¯ |

**Node ç‰ˆæœ¬**:18.17+

### 2.3 éƒ¨ç½²ç¯å¢ƒ

| æœåŠ¡ | æŠ€æœ¯ | ç”¨é€” |
|------|------|------|
| **å®¹å™¨åŒ–** | Docker | åº”ç”¨æ‰“åŒ…å’Œéš”ç¦» |
| **ç¼–æ’** | Docker Compose | å¤šå®¹å™¨ç¼–æ’ |
| **åº”ç”¨æœåŠ¡å™¨** | Uvicorn (Python) | åç«¯ ASGI æœåŠ¡å™¨ |
| **åº”ç”¨æœåŠ¡å™¨** | Node.js (Next.js) | å‰ç«¯åº”ç”¨æœåŠ¡å™¨ |
| **åå‘ä»£ç†** | Nginx | å¯é€‰,ç”Ÿäº§ç¯å¢ƒè´Ÿè½½å‡è¡¡ |

---

## ç³»ç»Ÿæ¶æ„

### 3.1 æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Backpack Exchange                        â”‚
â”‚                      (REST API + WebSocket)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
                              â–²
                              â”‚ HTTP + WebSocket
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Python FastAPI åç«¯      â”‚   â”‚   Next.js å‰ç«¯              â”‚
    â”‚  (:8000)                   â”‚   â”‚  (:3000)                    â”‚
    â”‚                            â”‚   â”‚                             â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚ API Endpoints        â”‚   â”‚   â”‚ â”‚ Pages                   â”‚ â”‚
    â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
    â”‚ â”‚ /api/config          â”‚â—„â”€â”€â”¼â”€â”€â”€â”¤ â”‚ /dashboard              â”‚ â”‚
    â”‚ â”‚ /api/orders          â”‚â—„â”€â”€â”¼â”€â”€â”€â”¤ â”‚ /config                 â”‚ â”‚
    â”‚ â”‚ /api/positions       â”‚â—„â”€â”€â”¼â”€â”€â”€â”¤ â”‚ /orders                 â”‚ â”‚
    â”‚ â”‚ /api/strategy/start  â”‚â—„â”€â”€â”¼â”€â”€â”€â”¤ â”‚ /statistics             â”‚ â”‚
    â”‚ â”‚ /api/strategy/stop   â”‚â—„â”€â”€â”¼â”€â”€â”€â”¤ â”‚                         â”‚ â”‚
    â”‚ â”‚ /api/status          â”‚â—„â”€â”€â”¼â”€â”€â”€â”¤ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
    â”‚ â”‚ /ws (WebSocket)      â”‚â—„â”€â”€â”¼â”€â”€â”€â”¤ â”‚ â”‚ Components          â”‚ â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
    â”‚                            â”‚   â”‚ â”‚ â”‚ ConfigForm          â”‚ â”‚ â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚ â”‚ â”‚ OrderTable          â”‚ â”‚ â”‚
    â”‚ â”‚ Core Services        â”‚   â”‚   â”‚ â”‚ â”‚ Dashboard           â”‚ â”‚ â”‚
    â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   â”‚ â”‚ â”‚ StatsCard           â”‚ â”‚ â”‚
    â”‚ â”‚ GridStrategy         â”‚   â”‚   â”‚ â”‚ â”‚ WebSocketClient     â”‚ â”‚ â”‚
    â”‚ â”‚ OrderManager         â”‚   â”‚   â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
    â”‚ â”‚ PositionTracker      â”‚   â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚ â”‚ RiskManager          â”‚   â”‚   â”‚                             â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚                            â”‚   â”‚ â”‚ State Management        â”‚ â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
    â”‚ â”‚ Backpack Integration â”‚   â”‚   â”‚ â”‚ Zustand Store           â”‚ â”‚
    â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   â”‚ â”‚ - strategy state        â”‚ â”‚
    â”‚ â”‚ BackpackClient       â”‚   â”‚   â”‚ â”‚ - orders                â”‚ â”‚
    â”‚ â”‚ WebSocket Manager    â”‚   â”‚   â”‚ â”‚ - config                â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                            â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚ â”‚ Background Tasks     â”‚   â”‚
    â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
    â”‚ â”‚ Price Listener       â”‚   â”‚
    â”‚ â”‚ Order Executor       â”‚   â”‚
    â”‚ â”‚ Risk Monitor         â”‚   â”‚
    â”‚ â”‚ Data Persister       â”‚   â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                            â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚ â”‚ Database (SQLite)    â”‚   â”‚
    â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
    â”‚ â”‚ configs              â”‚   â”‚
    â”‚ â”‚ orders               â”‚   â”‚
    â”‚ â”‚ positions            â”‚   â”‚
    â”‚ â”‚ trades               â”‚   â”‚
    â”‚ â”‚ pnl_history          â”‚   â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ•°æ®æµå‘

#### å¯åŠ¨æµç¨‹
```
ç”¨æˆ·è®¿é—®å‰ç«¯
    â†“
åŠ è½½é…ç½®é¡µé¢
    â†“
ç”¨æˆ·å¡«å†™å‚æ•°(äº¤æ˜“å¯¹ã€èµ„é‡‘ã€æ æ†ç­‰)
    â†“
æäº¤é…ç½®ç»™åç«¯ POST /api/config
    â†“
åç«¯ä¿å­˜é…ç½®åˆ°æ•°æ®åº“
    â†“
åç«¯è¿”å›ç¡®è®¤ä¿¡æ¯
    â†“
ç”¨æˆ·ç‚¹å‡»"å¯åŠ¨ç­–ç•¥"
    â†“
å‰ç«¯è°ƒç”¨ POST /api/strategy/start
    â†“
åç«¯åˆå§‹åŒ– GridStrategy å®ä¾‹
    â†“
åç«¯å¯åŠ¨åå°ä»»åŠ¡(ä»·æ ¼ç›‘å¬ã€è®¢å•æ‰§è¡Œ)
    â†“
å‰ç«¯å»ºç«‹ WebSocket è¿æ¥
    â†“
åç«¯å®šæ—¶æ¨é€è®¢å•ã€ä»·æ ¼ã€æ”¶ç›Šæ•°æ®ç»™å‰ç«¯
    â†“
å‰ç«¯å®æ—¶æ¸²æŸ“ä»ªè¡¨æ¿
```

#### äº¤æ˜“æµç¨‹
```
1. ä»·æ ¼ç›‘å¬ä»»åŠ¡æŒç»­è¿è¡Œ
    â†“
2. æŸ¥è¯¢ Backpack æœ€æ–°ä»·æ ¼
    â†“
3. æ£€æŸ¥ç½‘æ ¼æ˜¯å¦éœ€è¦æ“ä½œ
    â†“
4a. å¦‚æœä»·æ ¼ä¸Šå‡åˆ°å–ç‚¹
    â””â”€â†’ æ‰§è¡Œå¹³ä»“è®¢å• (SELL)
        â†“
        è·åˆ© = (å–ä»· - ä¹°ä»·) Ã— æ•°é‡
        â†“
        æ›´æ–°æ€»æ”¶ç›Š
        â†“
        åœ¨åº•éƒ¨é‡æ–°æŒ‚ä¹°å•
    â†“
4b. å¦‚æœä»·æ ¼ä¸‹é™åˆ°ä¹°ç‚¹
    â””â”€â†’ æ‰§è¡Œå»ºä»“è®¢å• (BUY)
        â†“
        å¢åŠ æŒä»“
        â†“
        æ›´æ–°å¹³å‡å»ºä»“ä»·æ ¼
    â†“
5. æ¯ç¬”äº¤æ˜“åæ£€æŸ¥é£é™©
    â”œâ”€ æ£€æŸ¥å…¨å±€æ­¢æŸ
    â”œâ”€ æ£€æŸ¥å…¨å±€æ­¢ç›ˆ
    â””â”€ æ£€æŸ¥çˆ†ä»“é£é™©
    â†“
6. å¦‚æœè§¦å‘æ­¢ç›ˆ/æ­¢æŸ
    â”œâ”€ ç«‹å³å¹³ä»“æ‰€æœ‰å¤´å¯¸
    â”œâ”€ æ¸…é™¤æ‰€æœ‰æŒ‚å•
    â”œâ”€ æ ‡è®°ç­–ç•¥ä¸ºå·²åœæ­¢
    â””â”€ æ¨é€é€šçŸ¥ç»™å‰ç«¯
    â†“
7. WebSocket å®šæ—¶æ¨é€æ›´æ–°
    â”œâ”€ å½“å‰ä»·æ ¼
    â”œâ”€ æ´»è·ƒè®¢å•
    â”œâ”€ å·²å¹³ä»“è®¢å•
    â”œâ”€ æ€»æ”¶ç›Š
    â””â”€ ç­–ç•¥çŠ¶æ€
```

---

## åŠŸèƒ½éœ€æ±‚

### 4.1 åç«¯åŠŸèƒ½éœ€æ±‚

#### 4.1.1 é…ç½®ç®¡ç†æ¨¡å—

- [ ] ä¿å­˜ç”¨æˆ·é…ç½®(äº¤æ˜“å¯¹ã€èµ„é‡‘ã€æ æ†ã€ç½‘æ ¼æ•°ç­‰)
- [ ] è¯»å–ç”¨æˆ·é…ç½®
- [ ] éªŒè¯é…ç½®å‚æ•°çš„æœ‰æ•ˆæ€§
- [ ] ä¿®æ”¹è¿è¡Œä¸­çš„é…ç½®(ä»…éƒ¨åˆ†å‚æ•°)
- [ ] é…ç½®ç‰ˆæœ¬ç®¡ç†(ä¿å­˜å†å²é…ç½®)

#### 4.1.2 ç½‘æ ¼ç­–ç•¥æ¨¡å—

- [ ] æ ¹æ®å½“å‰ä»·æ ¼å’Œå‚æ•°è‡ªåŠ¨è®¡ç®—ç½‘æ ¼ä»·ä½
- [ ] ç”Ÿæˆåˆå§‹ä¹°å•(åº•éƒ¨åˆ†æ‰¹å»ºä»“)
- [ ] åŠ¨æ€ç”Ÿæˆå–å•(æ ¹æ®ä¹°å…¥ä»·æ ¼è®¡ç®—)
- [ ] ç›‘å¬ä»·æ ¼å˜åŒ–(é€šè¿‡ Backpack WebSocket)
- [ ] åˆ¤æ–­ä»·æ ¼æ˜¯å¦è§¦åŠç½‘æ ¼ç‚¹
- [ ] æ‰§è¡Œä¹°å…¥/å–å‡ºæ“ä½œ

#### 4.1.3 è®¢å•ç®¡ç†æ¨¡å—

- [ ] åˆ›å»ºè®¢å•å¯¹è±¡
- [ ] è¿½è¸ªè®¢å•çŠ¶æ€(å¾…æ‰§è¡Œã€å¾…æˆäº¤ã€å·²æˆäº¤ã€å·²å–æ¶ˆ)
- [ ] æ›´æ–°è®¢å•çŠ¶æ€
- [ ] å…³è”æˆå¯¹çš„ä¹°å–è®¢å•(è¿½è¸ªå•ç¬”äº¤æ˜“åˆ©æ¶¦)
- [ ] æŸ¥è¯¢æ‰€æœ‰æ´»è·ƒè®¢å•
- [ ] æŸ¥è¯¢å†å²è®¢å•
- [ ] æ‰¹é‡å–æ¶ˆè®¢å•

#### 4.1.4 å¤´å¯¸è¿½è¸ªæ¨¡å—

- [ ] è®¡ç®—å½“å‰æ€»å¤´å¯¸å¤§å°
- [ ] è®¡ç®—å¹³å‡å»ºä»“ä»·æ ¼
- [ ] è®¡ç®—æµ®åŠ¨æ”¶ç›Š
- [ ] è®¡ç®—å·²å®ç°æ”¶ç›Š
- [ ] è¿½è¸ªæ¯ä¸ªç½‘æ ¼ç‚¹çš„å¤´å¯¸ä¿¡æ¯

#### 4.1.5 é£é™©ç®¡ç†æ¨¡å—

- [ ] å…¨å±€æ­¢æŸæ£€æŸ¥(æ€»äºæŸè¾¾åˆ°ä¸Šé™æ—¶åœæ­¢)
- [ ] å…¨å±€æ­¢ç›ˆæ£€æŸ¥(æ€»æ”¶ç›Šè¾¾åˆ°ç›®æ ‡æ—¶åœæ­¢)
- [ ] çˆ†ä»“é£é™©é¢„è­¦
- [ ] å•ä¸ªç½‘æ ¼æœ€å¤§æŸå¤±é™åˆ¶
- [ ] å¤´å¯¸é£é™©ç‡è®¡ç®—
- [ ] è‡ªåŠ¨å¹³ä»“æœºåˆ¶

#### 4.1.6 Backpack API é›†æˆæ¨¡å—

- [ ] ED25519 ç­¾åç”Ÿæˆ(ç”¨äº API è®¤è¯)
- [ ] æŸ¥è¯¢å¸‚åœºä¿¡æ¯
- [ ] æŸ¥è¯¢è´¦æˆ·ä½™é¢
- [ ] æŸ¥è¯¢å¤´å¯¸ä¿¡æ¯
- [ ] æ‰§è¡Œä¸‹å• (POST /orders)
- [ ] æŸ¥è¯¢è®¢å•çŠ¶æ€ (GET /orders)
- [ ] å–æ¶ˆè®¢å• (DELETE /orders)
- [ ] è·å–å†å²æˆäº¤ (GET /fills)
- [ ] è¿æ¥ WebSocket è·å–å®æ—¶ä»·æ ¼

#### 4.1.7 WebSocket æ¨é€æ¨¡å—

- [ ] å»ºç«‹ä¸å‰ç«¯çš„ WebSocket è¿æ¥
- [ ] å®æ—¶æ¨é€å½“å‰ä»·æ ¼
- [ ] å®æ—¶æ¨é€è®¢å•æ›´æ–°
- [ ] å®æ—¶æ¨é€æ”¶ç›Šæ•°æ®
- [ ] å®æ—¶æ¨é€ç­–ç•¥çŠ¶æ€
- [ ] é”™è¯¯å’Œé€šçŸ¥æ¨é€

#### 4.1.8 æ•°æ®æŒä¹…åŒ–æ¨¡å—

- [ ] ä¿å­˜æ‰€æœ‰è®¢å•åˆ°æ•°æ®åº“
- [ ] ä¿å­˜é…ç½®åˆ°æ•°æ®åº“
- [ ] ä¿å­˜äº¤æ˜“å†å²åˆ°æ•°æ®åº“
- [ ] ä¿å­˜æ¯æ—¥æ”¶ç›Šç»Ÿè®¡
- [ ] æ”¯æŒæ•°æ®å¯¼å‡º

#### 4.1.9 æ—¥å¿—å’Œç›‘æ§æ¨¡å—

- [ ] è¯¦ç»†æ—¥å¿—è®°å½•æ‰€æœ‰æ“ä½œ
- [ ] åŒºåˆ† DEBUG/INFO/WARNING/ERROR çº§åˆ«
- [ ] è®°å½• API è°ƒç”¨å’Œå“åº”
- [ ] è®°å½•äº¤æ˜“æ‰§è¡Œè¿‡ç¨‹
- [ ] é”™è¯¯è¿½è¸ªå’ŒæŠ¥å‘Š

### 4.2 å‰ç«¯åŠŸèƒ½éœ€æ±‚

#### 4.2.1 é¡µé¢è®¾è®¡

**Dashboard ä»ªè¡¨æ¿é¡µé¢**
- [ ] æ˜¾ç¤ºå½“å‰ç­–ç•¥çŠ¶æ€(è¿è¡Œä¸­/å·²åœæ­¢)
- [ ] æ˜¾ç¤ºå®æ—¶ä»·æ ¼
- [ ] æ˜¾ç¤ºæ€»èµ„é‡‘å’Œå·²ç”¨èµ„é‡‘
- [ ] æ˜¾ç¤ºå½“å‰æ€»å¤´å¯¸
- [ ] æ˜¾ç¤ºæ€»æ”¶ç›Šå’Œæ”¶ç›Šç‡
- [ ] æ˜¾ç¤ºæ­¢ç›ˆ/æ­¢æŸç›®æ ‡
- [ ] æ˜¾ç¤ºå½“å‰é£é™©ç‡

**Config é…ç½®é¡µé¢**
- [ ] äº¤æ˜“å¯¹é€‰æ‹©(SOL_USDC_PERP / BTC_USDC_PERP / ETH_USDC_PERP)
- [ ] èµ„é‡‘è¾“å…¥(USDC æ•°é‡)
- [ ] æ æ†å€æ•°é€‰æ‹©(1x ~ 20x,å»ºè®® 2x-5x)
- [ ] ç½‘æ ¼æ•°é‡è®¾ç½®(5 ~ 100)
- [ ] ä»·æ ¼åŒºé—´è®¾ç½®(Â±5% ~ Â±50%)
- [ ] æ­¢æŸè®¾ç½®(é‡‘é¢)
- [ ] æ­¢ç›ˆè®¾ç½®(é‡‘é¢)
- [ ] API Key å’Œ Secret Key è¾“å…¥
- [ ] ä¿å­˜/åº”ç”¨é…ç½®æŒ‰é’®
- [ ] å‚æ•°éªŒè¯æç¤º

**Orders è®¢å•é¡µé¢**
- [ ] æ´»è·ƒè®¢å•è¡¨æ ¼(å¾…æˆäº¤çš„è®¢å•)
  - è®¢å• ID
  - äº¤æ˜“ç±»å‹(BUY/SELL)
  - ä»·æ ¼
  - æ•°é‡
  - å§”æ‰˜æ—¶é—´
  - çŠ¶æ€
- [ ] å·²æˆäº¤è®¢å•è¡¨æ ¼
  - ä¹°å•ä»·æ ¼
  - å–å•ä»·æ ¼
  - æ•°é‡
  - äº¤æ˜“æ—¶é—´
  - å•ç¬”åˆ©æ¶¦
  - ç´¯è®¡åˆ©æ¶¦
- [ ] è®¢å•è¿‡æ»¤å’Œæ’åº
- [ ] è®¢å•è¯¦æƒ…å¼¹çª—

**Statistics ç»Ÿè®¡é¡µé¢**
- [ ] æ€»æˆäº¤ç¬”æ•°
- [ ] è·åˆ©ç¬”æ•° / äºæŸç¬”æ•°
- [ ] èƒœç‡
- [ ] å¹³å‡åˆ©æ¶¦
- [ ] æœ€å¤§å•ç¬”åˆ©æ¶¦
- [ ] æœ€å¤§å•ç¬”äºæŸ
- [ ] æ—¥æ”¶ç›Šæ›²çº¿å›¾
- [ ] å¹³å‡æŒä»“æ—¶é—´

#### 4.2.2 äº¤äº’åŠŸèƒ½

- [ ] å¯åŠ¨/åœæ­¢ç­–ç•¥æŒ‰é’®
- [ ] ç´§æ€¥å¹³ä»“æŒ‰é’®(ä¸€é”®æ¸…ä»“)
- [ ] é…ç½®ç¼–è¾‘ä¿å­˜
- [ ] åˆ·æ–°å®æ—¶æ•°æ®
- [ ] ä¸‹è½½äº¤æ˜“æŠ¥å‘Š
- [ ] è¡¨æ ¼åˆ†é¡µå’Œå¯¼å‡º

#### 4.2.3 WebSocket å®æ—¶æ›´æ–°

- [ ] è‡ªåŠ¨è¿æ¥ WebSocket
- [ ] å®æ—¶æ›´æ–°ä»ªè¡¨æ¿æ•°æ®
- [ ] å®æ—¶æ›´æ–°è®¢å•è¡¨æ ¼
- [ ] ç³»ç»Ÿé€šçŸ¥æé†’(æ–°è®¢å•ã€å¹³ä»“ã€æ­¢ç›ˆ/æ­¢æŸç­‰)
- [ ] è‡ªåŠ¨é‡è¿æœºåˆ¶

---

## æ•°æ®åº“è®¾è®¡

### 5.1 æ•°æ®åº“é€‰æ‹©

ä½¿ç”¨ **SQLite + SQLAlchemy** (å¯å‡çº§è‡³ PostgreSQL)

### 5.2 æ•°æ®è¡¨è®¾è®¡

#### 5.2.1 configs è¡¨ - äº¤æ˜“é…ç½®

```sql
CREATE TABLE configs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    symbol VARCHAR(50) NOT NULL,           -- äº¤æ˜“å¯¹,å¦‚ SOL_USDC_PERP
    leverage FLOAT NOT NULL,               -- æ æ†å€æ•°
    total_capital FLOAT NOT NULL,          -- æ€»èµ„é‡‘(USDC)
    grid_count INTEGER NOT NULL,           -- ç½‘æ ¼æ•°é‡
    price_range_percent FLOAT NOT NULL,    -- ä»·æ ¼åŒºé—´ç™¾åˆ†æ¯”(Â±)
    max_total_loss FLOAT NOT NULL,         -- å…¨å±€æ­¢æŸ(é‡‘é¢)
    target_profit FLOAT NOT NULL,          -- å…¨å±€æ­¢ç›ˆ(é‡‘é¢)
    max_single_loss FLOAT,                 -- å•ä¸ªç½‘æ ¼æœ€å¤§äºæŸ
    status VARCHAR(20),                    -- é…ç½®çŠ¶æ€:active/inactive
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    notes TEXT
);
```

#### 5.2.2 orders è¡¨ - è®¢å•è®°å½•

```sql
CREATE TABLE orders (
    id VARCHAR(100) PRIMARY KEY,           -- Backpack è®¢å• ID
    symbol VARCHAR(50) NOT NULL,           -- äº¤æ˜“å¯¹
    side VARCHAR(10) NOT NULL,             -- BUY / SELL
    order_type VARCHAR(20) NOT NULL,       -- Limit / Market
    price FLOAT NOT NULL,                  -- è®¢å•ä»·æ ¼
    quantity FLOAT NOT NULL,               -- è®¢å•æ•°é‡
    executed_quantity FLOAT,               -- å·²æˆäº¤æ•°é‡
    status VARCHAR(20) NOT NULL,           -- Pending / Filled / Cancelled
    grid_level INTEGER,                    -- ç½‘æ ¼å±‚çº§(ç”¨äºå…³è”)
    paired_order_id VARCHAR(100),          -- é…å¯¹çš„è®¢å• ID(ä¹°å–å¯¹)
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    filled_at TIMESTAMP,
    average_fill_price FLOAT,              -- å¹³å‡æˆäº¤ä»·
    commission FLOAT,                      -- æ‰‹ç»­è´¹
    pnl FLOAT,                             -- è¯¥ç¬”äº¤æ˜“çš„æŸç›Š
    notes TEXT
);

CREATE INDEX idx_orders_symbol ON orders(symbol);
CREATE INDEX idx_orders_status ON orders(status);
CREATE INDEX idx_orders_created_at ON orders(created_at);
```

#### 5.2.3 positions è¡¨ - å¤´å¯¸è·Ÿè¸ª

```sql
CREATE TABLE positions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    symbol VARCHAR(50) NOT NULL,           -- äº¤æ˜“å¯¹
    size FLOAT NOT NULL,                   -- å½“å‰å¤´å¯¸å¤§å°
    average_price FLOAT NOT NULL,          -- å¹³å‡å»ºä»“ä»·æ ¼
    side VARCHAR(10),                      -- LONG / SHORT
    entry_time TIMESTAMP,                  -- å»ºä»“æ—¶é—´
    current_price FLOAT,                   -- å½“å‰å¸‚åœºä»·æ ¼
    unrealized_pnl FLOAT,                  -- æœªå®ç°æ”¶ç›Š
    realized_pnl FLOAT,                    -- å·²å®ç°æ”¶ç›Š
    margin_used FLOAT,                     -- å ç”¨ä¿è¯é‡‘
    liquidation_price FLOAT,               -- æ¸…ç®—ä»·æ ¼
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 5.2.4 trades è¡¨ - äº¤æ˜“å†å²

```sql
CREATE TABLE trades (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    symbol VARCHAR(50) NOT NULL,           -- äº¤æ˜“å¯¹
    buy_order_id VARCHAR(100),             -- ä¹°å• ID
    sell_order_id VARCHAR(100),            -- å–å• ID
    buy_price FLOAT NOT NULL,              -- ä¹°å…¥ä»·æ ¼
    sell_price FLOAT NOT NULL,             -- å–å‡ºä»·æ ¼
    quantity FLOAT NOT NULL,               -- æˆäº¤æ•°é‡
    profit_per_unit FLOAT,                 -- å•ä½åˆ©æ¶¦
    total_profit FLOAT,                    -- æ€»åˆ©æ¶¦
    fee FLOAT,                             -- æ€»æ‰‹ç»­è´¹
    net_profit FLOAT,                      -- å‡€åˆ©æ¶¦
    pnl_percent FLOAT,                     -- åˆ©æ¶¦ç‡ %
    entry_time TIMESTAMP,                  -- å»ºä»“æ—¶é—´
    exit_time TIMESTAMP,                   -- å¹³ä»“æ—¶é—´
    hold_duration INTEGER,                 -- æŒä»“æ—¶é•¿(ç§’)
    notes TEXT
);

CREATE INDEX idx_trades_symbol ON trades(symbol);
CREATE INDEX idx_trades_exit_time ON trades(exit_time);
```

#### 5.2.5 pnl_history è¡¨ - æ”¶ç›Šå†å²

```sql
CREATE TABLE pnl_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    symbol VARCHAR(50) NOT NULL,
    trade_date DATE NOT NULL,              -- äº¤æ˜“æ—¥æœŸ
    total_trades INTEGER,                  -- æ€»äº¤æ˜“ç¬”æ•°
    winning_trades INTEGER,                -- è·åˆ©ç¬”æ•°
    losing_trades INTEGER,                 -- äºæŸç¬”æ•°
    total_profit FLOAT,                    -- æ€»åˆ©æ¶¦
    realized_profit FLOAT,                 -- å·²å®ç°åˆ©æ¶¦
    unrealized_profit FLOAT,               -- æœªå®ç°åˆ©æ¶¦
    win_rate FLOAT,                        -- èƒœç‡ %
    avg_profit_per_trade FLOAT,            -- å¹³å‡æ¯ç¬”åˆ©æ¶¦
    max_single_profit FLOAT,               -- æœ€å¤§å•ç¬”åˆ©æ¶¦
    max_single_loss FLOAT,                 -- æœ€å¤§å•ç¬”äºæŸ
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 5.2.6 strategy_state è¡¨ - ç­–ç•¥çŠ¶æ€

```sql
CREATE TABLE strategy_state (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    status VARCHAR(20),                    -- RUNNING / STOPPED / PAUSED / ERROR
    start_time TIMESTAMP,                  -- ç­–ç•¥å¯åŠ¨æ—¶é—´
    stop_time TIMESTAMP,                   -- ç­–ç•¥åœæ­¢æ—¶é—´
    stop_reason VARCHAR(50),               -- åœæ­¢åŸå› :MANUAL / PROFIT_TARGET / LOSS_LIMIT / ERROR
    total_capital FLOAT,                   -- åˆå§‹èµ„é‡‘
    current_balance FLOAT,                 -- å½“å‰ä½™é¢
    total_realized_profit FLOAT,           -- æ€»å·²å®ç°åˆ©æ¶¦
    total_unrealized_profit FLOAT,         -- æ€»æœªå®ç°åˆ©æ¶¦
    grid_buy_orders INTEGER,               -- æ´»è·ƒä¹°å•æ•°
    grid_sell_orders INTEGER,              -- æ´»è·ƒå–å•æ•°
    current_grid_level INTEGER,            -- å½“å‰ç½‘æ ¼å±‚çº§
    last_update TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 5.3 æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

```python
# backend/db/init_db.py
from sqlalchemy import create_engine
from sqlalchemy.orm import declarative_base, sessionmaker
import os

DATABASE_URL = os.getenv("DATABASE_URL", "sqlite:///./trading_bot.db")

engine = create_engine(
    DATABASE_URL,
    connect_args={"check_same_thread": False} if "sqlite" in DATABASE_URL else {}
)

SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)
Base = declarative_base()

def init_db():
    """åˆå§‹åŒ–æ•°æ®åº“æ‰€æœ‰è¡¨"""
    Base.metadata.create_all(bind=engine)
```

---

## API è®¾è®¡

### 6.1 åç«¯ REST API ç«¯ç‚¹

#### 6.1.1 é…ç½®ç®¡ç†æ¥å£

**POST /api/config**
```
è¯·æ±‚:
{
    "symbol": "SOL_USDC_PERP",
    "leverage": 2,
    "total_capital": 500,
    "grid_count": 10,
    "price_range_percent": 10,
    "max_total_loss": 100,
    "target_profit": 300,
    "max_single_loss": 50
}

å“åº”:
{
    "code": 0,
    "message": "é…ç½®ä¿å­˜æˆåŠŸ",
    "data": {
        "config_id": 1,
        "created_at": "2025-10-23T10:00:00Z"
    }
}
```

**GET /api/config**
```
å“åº”:
{
    "code": 0,
    "data": {
        "symbol": "SOL_USDC_PERP",
        "leverage": 2,
        "total_capital": 500,
        ...
    }
}
```

#### 6.1.2 ç­–ç•¥æ§åˆ¶æ¥å£

**POST /api/strategy/start**
```
è¯·æ±‚:{}

å“åº”:
{
    "code": 0,
    "message": "ç­–ç•¥å·²å¯åŠ¨",
    "data": {
        "status": "RUNNING",
        "start_time": "2025-10-23T10:00:00Z",
        "grid_prices": [180, 184, 188, ...]
    }
}
```

**POST /api/strategy/stop**
```
è¯·æ±‚:{}

å“åº”:
{
    "code": 0,
    "message": "ç­–ç•¥å·²åœæ­¢",
    "data": {
        "status": "STOPPED",
        "stop_time": "2025-10-23T10:30:00Z",
        "total_profit": 45.50
    }
}
```

**POST /api/strategy/emergency-close**
```
è¯·æ±‚:{}

å“åº”(ä¸€é”®å¹³ä»“æ‰€æœ‰å¤´å¯¸):
{
    "code": 0,
    "message": "ç´§æ€¥å¹³ä»“å·²æ‰§è¡Œ",
    "data": {
        "closed_positions": 3,
        "total_pnl": 45.50
    }
}
```

#### 6.1.3 è®¢å•æŸ¥è¯¢æ¥å£

**GET /api/orders?status=pending&limit=20**
```
å“åº”:
{
    "code": 0,
    "data": {
        "total": 5,
        "orders": [
            {
                "order_id": "12345",
                "symbol": "SOL_USDC_PERP",
                "side": "BUY",
                "price": 139.5,
                "quantity": 3.5,
                "status": "PENDING",
                "created_at": "2025-10-23T10:00:00Z"
            },
            ...
        ]
    }
}
```

**GET /api/trades?limit=50**
```
å“åº”:
{
    "code": 0,
    "data": {
        "total": 18,
        "trades": [
            {
                "id": 1,
                "buy_price": 140.5,
                "sell_price": 142.0,
                "quantity": 3.5,
                "profit": 5.25,
                "entry_time": "2025-10-23T09:30:00Z",
                "exit_time": "2025-10-23T09:45:00Z"
            },
            ...
        ]
    }
}
```

#### 6.1.4 å¤´å¯¸æŸ¥è¯¢æ¥å£

**GET /api/positions**
```
å“åº”:
{
    "code": 0,
    "data": {
        "symbol": "SOL_USDC_PERP",
        "size": 7.0,
        "average_price": 140.5,
        "side": "LONG",
        "current_price": 141.2,
        "unrealized_pnl": 4.90,
        "margin_used": 490,
        "margin_available": 10
    }
}
```

#### 6.1.5 ç»Ÿè®¡ä¿¡æ¯æ¥å£

**GET /api/statistics**
```
å“åº”:
{
    "code": 0,
    "data": {
        "total_capital": 500,
        "current_balance": 545.50,
        "total_profit": 45.50,
        "total_profit_percent": 9.1,
        "total_trades": 18,
        "winning_trades": 15,
        "losing_trades": 3,
        "win_rate": 83.3,
        "avg_profit_per_trade": 2.53,
        "max_single_profit": 5.25,
        "max_single_loss": -2.10,
        "started_at": "2025-10-23T08:00:00Z",
        "strategy_status": "RUNNING"
    }
}
```

#### 6.1.6 ç³»ç»ŸçŠ¶æ€æ¥å£

**GET /api/status**
```
å“åº”:
{
    "code": 0,
    "data": {
        "strategy_status": "RUNNING",
        "backpack_api_connected": true,
        "websocket_connected": true,
        "database_status": "OK",
        "current_price": 141.2,
        "timestamp": "2025-10-23T10:25:30Z"
    }
}
```

### 6.2 WebSocket äº‹ä»¶å®šä¹‰

**WebSocket è¿æ¥** `ws://localhost:8000/ws`

**å®¢æˆ·ç«¯å‘é€äº‹ä»¶**:

```javascript
// è®¢é˜…è®¢å•æ›´æ–°
{ type: "subscribe", channel: "orders" }

// è®¢é˜…ä»·æ ¼æ›´æ–°
{ type: "subscribe", channel: "prices" }

// è®¢é˜…ç»Ÿè®¡ä¿¡æ¯
{ type: "subscribe", channel: "statistics" }

// å¿ƒè·³ä¿æ´»
{ type: "ping" }
```

**æœåŠ¡å™¨æ¨é€äº‹ä»¶**:

```javascript
// æ–°è®¢å•åˆ›å»º
{
    type: "order_created",
    data: {
        order_id: "12345",
        side: "BUY",
        price: 139.5,
        quantity: 3.5,
        timestamp: "2025-10-23T10:25:30Z"
    }
}

// è®¢å•æˆäº¤
{
    type: "order_filled",
    data: {
        order_id: "12345",
        filled_quantity: 3.5,
        average_price: 139.52,
        timestamp: "2025-10-23T10:25:35Z"
    }
}

// ä»·æ ¼æ›´æ–°
{
    type: "price_update",
    data: {
        symbol: "SOL_USDC_PERP",
        price: 141.25,
        bid: 141.20,
        ask: 141.30,
        timestamp: "2025-10-23T10:25:40Z"
    }
}

// äº¤æ˜“å®Œæˆ(ä¹°å–å¯¹é…å¯¹)
{
    type: "trade_completed",
    data: {
        buy_order_id: "12345",
        sell_order_id: "12346",
        entry_price: 139.5,
        exit_price: 142.0,
        quantity: 3.5,
        profit: 5.25,
        pnl_percent: 1.88,
        timestamp: "2025-10-23T10:25:45Z"
    }
}

// ç­–ç•¥çŠ¶æ€å˜æ›´
{
    type: "strategy_status_changed",
    data: {
        status: "STOPPED",
        reason: "PROFIT_TARGET_REACHED",
        final_profit: 45.50,
        timestamp: "2025-10-23T10:30:00Z"
    }
}

// é£é™©è­¦å‘Š
{
    type: "risk_warning",
    data: {
        message: "æ¥è¿‘æ­¢æŸçº¿",
        current_loss": -95.0,
        loss_limit": -100,
        timestamp: "2025-10-23T10:25:50Z"
    }
}

// é”™è¯¯é€šçŸ¥
{
    type: "error",
    data: {
        message: "API è°ƒç”¨å¤±è´¥",
        error_code": 429,
        timestamp: "2025-10-23T10:26:00Z"
    }
}

// å¿ƒè·³å“åº”
{ type: "pong" }
```

---

## å‰ç«¯è®¾è®¡

### 7.1 é¡µé¢å¸ƒå±€

#### 7.1.1 Dashboard ä»ªè¡¨æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç½‘æ ¼äº¤æ˜“æœºå™¨äºº Dashboard                   [å¯åŠ¨] [åœæ­¢] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ ç­–ç•¥çŠ¶æ€     â”‚ å½“å‰ä»·æ ¼     â”‚ æ€»èµ„é‡‘       â”‚          â”‚
â”‚ â”‚ è¿è¡Œä¸­       â”‚ $141.25      â”‚ 500 USDC     â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ æ€»æ”¶ç›Š       â”‚ æ”¶ç›Šç‡       â”‚ é£é™©ç‡       â”‚          â”‚
â”‚ â”‚ +$45.50      â”‚ +9.1%        â”‚ 22%          â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ å·²ç”¨ä¿è¯é‡‘   â”‚ å¯ç”¨ä¿è¯é‡‘   â”‚ å½“å‰å¤´å¯¸     â”‚          â”‚
â”‚ â”‚ $490.00      â”‚ $10.00       â”‚ 7.0 SOL      â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                         â”‚
â”‚ æ­¢ç›ˆ/æ­¢æŸç›®æ ‡ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ $45.50 / $300.00             â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ´»è·ƒè®¢å• (5)                                        â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ ç±»å‹  ä»·æ ¼    æ•°é‡    çŠ¶æ€    å§”æ‰˜æ—¶é—´        â”‚ â”‚
â”‚ â”‚ BUY   139.5  3.5    PENDING  14:32:10       â”‚ â”‚
â”‚ â”‚ SELL  143.2  3.5    PENDING  14:15:32       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ”¶ç›Šæ›²çº¿                                            â”‚ â”‚
â”‚ â”‚ [å›¾è¡¨åŒºåŸŸ - æ—¥æ”¶ç›Šå˜åŒ–]                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7.1.2 Config é…ç½®é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ äº¤æ˜“é…ç½®                                   [ä¿å­˜] [åº”ç”¨] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ åŸºç¡€å‚æ•°                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ äº¤æ˜“å¯¹:[SOL_USDC_PERP â–¼]                          â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ èµ„é‡‘:[500        ] USDC                            â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ æ æ†:[2  â–¼] (1x ~ 20x,å»ºè®® 2x-5x)               â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ ç½‘æ ¼æ•°:[10        ]                                â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ ä»·æ ¼åŒºé—´:[Â±10      ] %                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ é£é™©ç®¡ç†                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ å…¨å±€æ­¢æŸ:[-100         ] USDC è´Ÿæ•°è¡¨ç¤ºäºæŸé‡‘é¢      â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ å…¨å±€æ­¢ç›ˆ:[+300         ] USDC æ­£æ•°è¡¨ç¤ºè·åˆ©é‡‘é¢      â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ å•ä¸ªç½‘æ ¼æœ€å¤§äºæŸ:[-50         ] USDC               â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ â˜‘ å¯ç”¨è‡ªåŠ¨æ­¢æŸ                                     â”‚ â”‚
â”‚ â”‚ â˜‘ å¯ç”¨çˆ†ä»“ä¿æŠ¤                                     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ API å‡­è¯                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ API Key: [****************************]            â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ Secret Key: [****************************]         â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ [âœ“ è¿æ¥æµ‹è¯•]                                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7.1.3 Orders è®¢å•é¡µé¢

**æ ‡ç­¾é¡µ 1:æ´»è·ƒè®¢å•**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ´»è·ƒè®¢å• (5)                     [åˆ·æ–°] [å…¨éƒ¨å–æ¶ˆ]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  è®¢å•ID   ç±»å‹  ä»·æ ¼   æ•°é‡   çŠ¶æ€    å§”æ‰˜æ—¶é—´     æ“ä½œ  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  12345   BUY   139.5 3.5  PENDING 14:32:10  [å–æ¶ˆ]  â”‚
â”‚  12346   BUY   137.0 3.5  PENDING 14:28:45  [å–æ¶ˆ]  â”‚
â”‚  12347   SELL  143.2 3.5  PENDING 14:15:32  [å–æ¶ˆ]  â”‚
â”‚  12348   SELL  145.7 3.5  PENDING 14:10:15  [å–æ¶ˆ]  â”‚
â”‚  12349   BUY   134.5 3.5  PENDING 13:56:00  [å–æ¶ˆ]  â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ‡ç­¾é¡µ 2:å·²æˆäº¤è®¢å•**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å·²æˆäº¤è®¢å• (18)                   [å¯¼å‡º] [ç­›é€‰]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ ä¹°ä»·   å–ä»·   æ•°é‡  æˆäº¤æ—¶é—´    å•ç¬”åˆ©æ¶¦  ç´¯è®¡åˆ©æ¶¦       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ 140.5 142.0  3.5  14:22:15   +$5.25   +$85.30      â”‚
â”‚ 137.8 140.5  3.5  14:08:30   +$8.10   +$80.05      â”‚
â”‚ 135.2 137.0  3.5  13:45:20   +$6.30   +$71.95      â”‚
â”‚ 142.0 143.5  3.5  13:25:10   +$5.25   +$65.65      â”‚
â”‚ 139.5 142.0  3.5  13:05:00   +$7.50   +$60.40      â”‚
â”‚ ...                                                    â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7.1.4 Statistics ç»Ÿè®¡é¡µé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ äº¤æ˜“ç»Ÿè®¡                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ å…³é”®æŒ‡æ ‡                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ æ€»äº¤æ˜“ç¬”æ•°   â”‚ è·åˆ©ç¬”æ•°     â”‚ äºæŸç¬”æ•°     â”‚          â”‚
â”‚ â”‚ 18           â”‚ 15           â”‚ 3            â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ èƒœç‡         â”‚ å¹³å‡åˆ©æ¶¦     â”‚ æœ€å¤§åˆ©æ¶¦     â”‚          â”‚
â”‚ â”‚ 83.3%        â”‚ +$2.53       â”‚ +$8.10       â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ æœ€å¤§äºæŸ     â”‚ å¹³å‡æŒä»“æ—¶é—´ â”‚ æ€»æŒä»“æ—¶é•¿   â”‚          â”‚
â”‚ â”‚ -$2.10       â”‚ 16åˆ†é’Ÿ       â”‚ 4å°æ—¶23åˆ†    â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                         â”‚
â”‚ æ—¥æ”¶ç›Šèµ°åŠ¿                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [æŠ˜çº¿å›¾:Xè½´ä¸ºæ—¥æœŸ,Yè½´ä¸ºæ”¶ç›Šé‡‘é¢]                   â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚     $50 â”¤     â•±â•²      â•±â•²                            â”‚ â”‚
â”‚ â”‚     $40 â”œ    â•±  â•²    â•±  â•²  â•±â•²                       â”‚ â”‚
â”‚ â”‚     $30 â”œ   â•±    â•²  â•±    â•²â•±  â•²                      â”‚ â”‚
â”‚ â”‚     $20 â”œ  â•±      â•²â•±          â•²                     â”‚ â”‚
â”‚ â”‚     $10 â”œâ”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’            â”‚ â”‚
â”‚ â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚ â”‚
â”‚ â”‚          10/21 10/22 10/23 10/24 10/25            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 æŠ€æœ¯å®ç°ç»†èŠ‚

#### 7.2.1 çŠ¶æ€ç®¡ç†(Zustand Store)

```typescript
// store/trading.ts
import { create } from 'zustand';

interface TradingStore {
  // ç­–ç•¥çŠ¶æ€
  strategy: {
    status: 'IDLE' | 'RUNNING' | 'STOPPED' | 'ERROR';
    startTime: string | null;
    stopTime: string | null;
  };

  // é…ç½®
  config: {
    symbol: string;
    leverage: number;
    totalCapital: number;
    gridCount: number;
    priceRangePercent: number;
    maxTotalLoss: number;
    targetProfit: number;
  };

  // å®æ—¶æ•°æ®
  realtime: {
    currentPrice: number;
    totalProfit: number;
    profitPercent: number;
    activeOrders: Order[];
    currentPosition: Position;
  };

  // è®¢å•å’Œäº¤æ˜“å†å²
  trades: Trade[];
  statistics: Statistics;

  // Actions
  updateStrategy: (data: any) => void;
  updateRealtime: (data: any) => void;
  addTrade: (trade: Trade) => void;
}

export const useTradingStore = create<TradingStore>((set) => ({
  // ... å®ç°
}));
```

#### 7.2.2 WebSocket å®¢æˆ·ç«¯

```typescript
// lib/websocket-client.ts
import { useEffect } from 'react';
import { useTradingStore } from '@/store/trading';

export const useWebSocketClient = () => {
  const store = useTradingStore();
  
  useEffect(() => {
    const ws = new WebSocket(`ws://${process.env.NEXT_PUBLIC_API_URL}/ws`);

    ws.onopen = () => {
      console.log('WebSocket connected');
      // è®¢é˜…é¢‘é“
      ws.send(JSON.stringify({ type: 'subscribe', channel: 'all' }));
    };

    ws.onmessage = (event) => {
      const message = JSON.parse(event.data);
      
      switch (message.type) {
        case 'price_update':
          store.updateRealtime({ currentPrice: message.data.price });
          break;
        case 'order_filled':
          // æ›´æ–°è®¢å•è¡¨æ ¼
          break;
        case 'trade_completed':
          store.addTrade(message.data);
          break;
        // ... å…¶ä»–äº‹ä»¶å¤„ç†
      }
    };

    return () => ws.close();
  }, []);
};
```

---

## åç«¯é€»è¾‘

### 8.1 ç½‘æ ¼ç­–ç•¥æ ¸å¿ƒé€»è¾‘

#### 8.1.1 åˆå§‹åŒ–æµç¨‹

```python
# backend/core/grid_strategy.py
class GridStrategy:
    def __init__(self, config: Config, backpack_client: BackpackClient):
        self.config = config
        self.backpack_client = backpack_client
        self.grid_prices = []
        self.active_orders = {}
        self.position_tracker = PositionTracker()
        self.risk_manager = RiskManager(config)
        
    async def initialize(self):
        """åˆå§‹åŒ–ç½‘æ ¼"""
        # 1. è·å–å½“å‰ä»·æ ¼
        current_price = await self.backpack_client.get_last_price(self.config.symbol)
        
        # 2. è®¡ç®—ç½‘æ ¼ä»·ä½
        self.grid_prices = self._calculate_grid_prices(
            current_price,
            self.config.price_range_percent,
            self.config.grid_count
        )
        
        # 3. ç”Ÿæˆåˆå§‹ä¹°å•
        await self._place_initial_buy_orders()
        
        # 4. å¯åŠ¨åå°ç›‘å¬ä»»åŠ¡
        asyncio.create_task(self._price_listener_loop())
        asyncio.create_task(self._risk_monitor_loop())
        
    def _calculate_grid_prices(self, current_price, range_percent, grid_count):
        """è®¡ç®—ç½‘æ ¼ä»·ä½"""
        range_amount = current_price * range_percent / 100
        bottom_price = current_price - range_amount
        top_price = current_price + range_amount
        step = (top_price - bottom_price) / (grid_count - 1)
        
        return [bottom_price + i * step for i in range(grid_count)]
    
    async def _place_initial_buy_orders(self):
        """åœ¨åº•éƒ¨åˆ†æ‰¹ä¸‹ä¹°å•"""
        # æ¯ä¸ªç½‘æ ¼çš„ä»“ä½å¤§å°
        qty_per_grid = self.config.total_capital / self.config.grid_count / self.grid_prices[0]
        
        for i, price in enumerate(self.grid_prices[:self.config.grid_count // 2]):
            order = await self.backpack_client.place_order(
                symbol=self.config.symbol,
                side='Bid',  # BUY
                order_type='Limit',
                price=price,
                quantity=qty_per_grid
            )
            self.active_orders[order.id] = order
            logger.info(f"åˆå§‹ä¹°å•å·²ä¸‹è¾¾:ID={order.id}, ä»·æ ¼={price}, æ•°é‡={qty_per_grid}")
```

#### 8.1.2 ä»·æ ¼ç›‘å¬å’Œäº¤æ˜“æ‰§è¡Œ

```python
async def _price_listener_loop(self):
    """æŒç»­ç›‘å¬ä»·æ ¼å˜åŒ–"""
    async for price_data in self.backpack_client.price_stream(self.config.symbol):
        current_price = price_data['price']
        
        # æ£€æŸ¥æ˜¯å¦è§¦åŠç½‘æ ¼ç‚¹
        triggered_grids = self._check_grid_triggers(current_price)
        
        for grid_info in triggered_grids:
            if grid_info['direction'] == 'UP':
                # ä»·æ ¼ä¸Šå‡åˆ°å–ç‚¹ â†’ å¹³ä»“
                await self._execute_sell(grid_info)
            elif grid_info['direction'] == 'DOWN':
                # ä»·æ ¼ä¸‹é™åˆ°ä¹°ç‚¹ â†’ åŠ ä»“
                await self._execute_buy(grid_info)

async def _execute_sell(self, grid_info):
    """æ‰§è¡Œå¹³ä»“(å–å‡º)"""
    # 1. æŸ¥æ‰¾å¯¹åº”çš„ä¹°å•
    buy_order = self._find_paired_buy_order(grid_info)
    
    # 2. è®¡ç®—å–å•æ•°é‡å’Œä»·æ ¼
    qty = buy_order.executed_quantity
    sell_price = grid_info['price']
    
    # 3. ä¸‹å–å•
    sell_order = await self.backpack_client.place_order(
        symbol=self.config.symbol,
        side='Ask',  # SELL
        order_type='Limit',
        price=sell_price,
        quantity=qty
    )
    
    # 4. å…³è”ä¹°å–è®¢å•
    self._link_orders(buy_order.id, sell_order.id)
    
    # 5. è®¡ç®—è·åˆ©
    profit = (sell_price - buy_order.average_price) * qty
    logger.info(f"å¹³ä»“è®¢å•å·²ä¸‹è¾¾:profit={profit}")
    
    # 6. åœ¨åº•éƒ¨é‡æ–°ä¸‹ä¹°å•(ç»§ç»­ç½‘æ ¼)
    await self._place_replacement_buy_order()
```

#### 8.1.3 é£é™©ç®¡ç†

```python
async def _risk_monitor_loop(self):
    """æŒç»­ç›‘æ§é£é™©"""
    while self.is_running:
        # 1. æ£€æŸ¥å…¨å±€æ­¢æŸ
        total_loss = self.position_tracker.total_realized_loss
        if total_loss <= -self.config.max_total_loss:
            logger.warning(f"è§¦å‘å…¨å±€æ­¢æŸ!æ€»äºæŸ:{total_loss}")
            await self.stop('LOSS_LIMIT')
            return
        
        # 2. æ£€æŸ¥å…¨å±€æ­¢ç›ˆ
        total_profit = self.position_tracker.total_realized_profit
        if total_profit >= self.config.target_profit:
            logger.info(f"è§¦å‘å…¨å±€æ­¢ç›ˆ!æ€»è·åˆ©:{total_profit}")
            await self.stop('PROFIT_TARGET')
            return
        
        # 3. æ£€æŸ¥çˆ†ä»“é£é™©
        leverage_ratio = self.risk_manager.calculate_leverage_ratio()
        if leverage_ratio > 0.8:
            logger.warning(f"æ æ†æ¯”ç‡è¿‡é«˜:{leverage_ratio}")
            # è§¦å‘è‡ªåŠ¨å¹³ä»“æˆ–è­¦å‘Š
        
        await asyncio.sleep(5)  # æ¯ 5 ç§’æ£€æŸ¥ä¸€æ¬¡

async def stop(self, reason='MANUAL'):
    """åœæ­¢ç­–ç•¥å¹¶æ¸…ä»“"""
    logger.info(f"ç­–ç•¥åœæ­¢,åŸå› :{reason}")
    
    # 1. å–æ¶ˆæ‰€æœ‰æœªæˆäº¤è®¢å•
    await self._cancel_all_pending_orders()
    
    # 2. å¹³ä»“æ‰€æœ‰å¤´å¯¸
    await self._close_all_positions()
    
    # 3. è®°å½•æœ€ç»ˆæ•°æ®åˆ°æ•°æ®åº“
    await self._persist_final_state(reason)
    
    self.is_running = False
```

---

## é£é™©ç®¡ç†

### 9.1 é£é™©ç®¡ç†ç­–ç•¥

#### 9.1.1 å…¨å±€æ­¢æŸ (Global Stop Loss)

- **è§¦å‘æ¡ä»¶**:å·²å®ç°äºæŸ â‰¥ é…ç½®çš„æœ€å¤§äºæŸé¢
- **æ‰§è¡ŒåŠ¨ä½œ**:
  1. ç«‹å³å–æ¶ˆæ‰€æœ‰æœªæˆäº¤è®¢å•
  2. å¹³ä»“æ‰€æœ‰å¼€ä»“å¤´å¯¸
  3. åœæ­¢ç­–ç•¥,è®°å½•æ—¥å¿—
- **ç”¨æˆ·é…ç½®**:`max_total_loss = -100 USDC`

#### 9.1.2 å…¨å±€æ­¢ç›ˆ (Global Take Profit)

- **è§¦å‘æ¡ä»¶**:å·²å®ç°æ”¶ç›Š â‰¥ é…ç½®çš„ç›®æ ‡æ”¶ç›Šé¢
- **æ‰§è¡ŒåŠ¨ä½œ**:
  1. ç«‹å³å–æ¶ˆæ‰€æœ‰æœªæˆäº¤è®¢å•
  2. å¹³ä»“æ‰€æœ‰å¼€ä»“å¤´å¯¸
  3. åœæ­¢ç­–ç•¥,è®°å½•æ—¥å¿—
- **ç”¨æˆ·é…ç½®**:`target_profit = 300 USDC`

#### 9.1.3 å•ä¸ªç½‘æ ¼æœ€å¤§äºæŸ

- **è§¦å‘æ¡ä»¶**:å•ä¸ªäº¤æ˜“å¯¹çš„äºæŸ â‰¥ æœ€å¤§äºæŸé¢
- **æ‰§è¡ŒåŠ¨ä½œ**:è·³è¿‡è¯¥ç½‘æ ¼ç‚¹,è½¬ç§»èµ„é‡‘åˆ°å…¶ä»–ç‚¹
- **ç”¨æˆ·é…ç½®**:`max_single_loss = -50 USDC`

#### 9.1.4 çˆ†ä»“ä¿æŠ¤

- **é£é™©ç‡è®¡ç®—**:`é£é™©ç‡ = å¤´å¯¸ä¿è¯é‡‘ / æ€»èµ„é‡‘`
- **é¢„è­¦çº¿**:é£é™©ç‡ > 50%
- **æ­¢æŸçº¿**:é£é™©ç‡ > 75%,è‡ªåŠ¨å¹³ä»“ä¸€éƒ¨åˆ†å¤´å¯¸
- **çˆ†ä»“çº¿**:é£é™©ç‡ > 95%,ç´§æ€¥å¹³ä»“æ‰€æœ‰

#### 9.1.5 ä»·æ ¼æ»‘ç‚¹ä¿æŠ¤

- ä¸‹å•æ—¶è®¾ç½®æœ€å¤§æ»‘ç‚¹é™åˆ¶
- å¦‚æœæˆäº¤ä»·è¶…è¿‡æ»‘ç‚¹,è®¢å•è‡ªåŠ¨å–æ¶ˆ

---

## éƒ¨ç½²æ–¹æ¡ˆ

### 10.1 æœ¬åœ°å¼€å‘ç¯å¢ƒ

#### 10.1.1 åç«¯å¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/grid-trading-bot.git
cd grid-trading-bot

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ– venv\Scripts\activate  # Windows

# 3. å®‰è£…ä¾èµ–
cd backend
pip install -r requirements.txt

# 4. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env,å¡«å…¥ Backpack API Key å’Œ Secret Key

# 5. åˆå§‹åŒ–æ•°æ®åº“
python -c "from db.init_db import init_db; init_db()"

# 6. å¯åŠ¨åç«¯æœåŠ¡
uvicorn app:app --reload --port 8000
```

#### 10.1.2 å‰ç«¯å¯åŠ¨

```bash
# 1. è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# 2. å®‰è£…ä¾èµ–
npm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.local
# ç¼–è¾‘ .env.local,è®¾ç½® NEXT_PUBLIC_API_URL

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# 5. è®¿é—® http://localhost:3000
```

### 10.2 Docker å®¹å™¨éƒ¨ç½²

#### 10.2.1 åç«¯ Dockerfile

```dockerfile
# backend/Dockerfile
FROM python:3.10-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["uvicorn", "app:app", "--host", "0.0.0.0", "--port", "8000"]
```

#### 10.2.2 å‰ç«¯ Dockerfile

```dockerfile
# frontend/Dockerfile
FROM node:18-alpine

WORKDIR /app

COPY package.json package-lock.json ./
RUN npm ci

COPY . .

RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]
```

#### 10.2.3 Docker Compose

```yaml
version: '3.8'

services:
  backend:
    build: ./backend
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=sqlite:///./trading_bot.db
      - BACKPACK_API_KEY=${BACKPACK_API_KEY}
      - BACKPACK_SECRET_KEY=${BACKPACK_SECRET_KEY}
    volumes:
      - ./backend:/app
      - trading_data:/app/data
    command: uvicorn app:app --host 0.0.0.0 --reload

  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
    environment:
      - NEXT_PUBLIC_API_URL=http://localhost:8000
    depends_on:
      - backend

volumes:
  trading_data:
```

**å¯åŠ¨æ‰€æœ‰æœåŠ¡**:
```bash
docker-compose up -d
```

---

## å¼€å‘è®¡åˆ’

### 11.1 ç¬¬ä¸€é˜¶æ®µ:æ ¸å¿ƒäº¤æ˜“å¼•æ“(ç¬¬ 1-2 å‘¨)

**åç«¯**
- [x] FastAPI é¡¹ç›®åˆå§‹åŒ–
- [x] SQLAlchemy æ•°æ®åº“è®¾ç½®
- [x] Backpack API å®¢æˆ·ç«¯å®ç°
- [x] è®¢å•ç®¡ç†æ¨¡å—
- [x] ç½‘æ ¼ä»·ä½è®¡ç®—
- [x] åˆå§‹å»ºä»“é€»è¾‘

**å‰ç«¯**
- [x] Next.js é¡¹ç›®åˆå§‹åŒ–
- [x] åŸºç¡€é¡µé¢æ¡†æ¶
- [x] é…ç½®è¡¨å•

**æµ‹è¯•**
- [ ] å•å…ƒæµ‹è¯•(åç«¯æ ¸å¿ƒé€»è¾‘)
- [ ] API é›†æˆæµ‹è¯•

### 11.2 ç¬¬äºŒé˜¶æ®µ:è‡ªåŠ¨äº¤æ˜“å’Œç›‘æ§(ç¬¬ 3-4 å‘¨)

**åç«¯**
- [ ] ä»·æ ¼ç›‘å¬ä»»åŠ¡
- [ ] è‡ªåŠ¨äº¤æ˜“æ‰§è¡Œ
- [ ] WebSocket æ¨é€
- [ ] é£é™©ç®¡ç†æ¨¡å—
- [ ] æ•°æ®æŒä¹…åŒ–

**å‰ç«¯**
- [ ] ä»ªè¡¨æ¿é¡µé¢
- [ ] è®¢å•è¡¨æ ¼
- [ ] WebSocket å®æ—¶æ›´æ–°
- [ ] çŠ¶æ€ç®¡ç†(Zustand)

**æµ‹è¯•**
- [ ] æ¨¡æ‹Ÿäº¤æ˜“æµ‹è¯•
- [ ] é£é™©ç®¡ç†æµ‹è¯•

### 11.3 ç¬¬ä¸‰é˜¶æ®µ:ä¼˜åŒ–å’Œéƒ¨ç½²(ç¬¬ 5-6 å‘¨)

**åç«¯**
- [ ] é”™è¯¯å¤„ç†å’Œæ—¥å¿—
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] API é™æµ
- [ ] è®¤è¯æˆæƒ

**å‰ç«¯**
- [ ] UI/UX ä¼˜åŒ–
- [ ] å“åº”å¼è®¾è®¡
- [ ] æ€§èƒ½ä¼˜åŒ–

**éƒ¨ç½²**
- [ ] Docker å®¹å™¨åŒ–
- [ ] ç”Ÿäº§ç¯å¢ƒé…ç½®
- [ ] ç›‘æ§å’Œå‘Šè­¦

### 11.4 é‡Œç¨‹ç¢‘

| é˜¶æ®µ | ç›®æ ‡ | å®Œæˆæ—¶é—´ |
|------|------|--------|
| MVP | å®Œæ•´çš„ç½‘æ ¼äº¤æ˜“æµç¨‹,æ”¯æŒå¯åŠ¨å’Œåœæ­¢ | ç¬¬ 2 å‘¨ |
| Beta | å…¨éƒ¨é£é™©ç®¡ç†åŠŸèƒ½,ç¨³å®šæ€§è¾¾ 99% | ç¬¬ 4 å‘¨ |
| Release | ç”Ÿäº§ç¯å¢ƒå°±ç»ª,æ”¯æŒéƒ¨ç½² | ç¬¬ 6 å‘¨ |

---

## é™„å½•

### A.1 å¸¸è§é—®é¢˜è§£ç­” (FAQ)

**Q: å¦‚ä½•ä¿æŠ¤ API Key?**  
A: ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨,ä¸è¦æäº¤åˆ°ä»£ç åº“ã€‚ä½¿ç”¨ .env æ–‡ä»¶å’Œ .gitignore ä¿æŠ¤ã€‚

**Q: ç½‘æ ¼æ•°é‡å¤šå°‘åˆé€‚?**  
A: å»ºè®® 5-20 ä¸ªã€‚å¤ªå¤šä¼šå¢åŠ äº¤æ˜“æˆæœ¬,å¤ªå°‘å¯èƒ½é”™è¿‡æœºä¼šã€‚

**Q: æ æ†å¤šå°‘æ¯”è¾ƒå®‰å…¨?**  
A: åˆå­¦è€…å»ºè®® 2-3x,é£é™©æ‰¿å—èƒ½åŠ›å¼ºå¯ç”¨ 5-10x,ä¸å»ºè®®è¶…è¿‡ 10xã€‚

**Q: å¦‚ä½•åº”å¯¹å•è¾¹è¡Œæƒ…?**  
A: è®¾ç½®æ­¢æŸçº¿,ä»·æ ¼çªç ´ç½‘æ ¼èŒƒå›´æ—¶è‡ªåŠ¨åœæ­¢ã€‚

**Q: æ‰‹ç»­è´¹å¦‚ä½•è®¡ç®—?**  
A: Backpack Maker è´¹ 0.02%,Taker è´¹ 0.05%ã€‚å•ç¬”äº¤æ˜“æ‰‹ç»­è´¹ = äº¤æ˜“é¢ Ã— è´¹ç‡ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**:v1.0  
**æœ€åæ›´æ–°**:2025-10-23  
**ç»´æŠ¤è€…**:Team Dev
